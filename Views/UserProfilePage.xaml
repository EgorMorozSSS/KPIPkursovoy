<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:viewmodel="clr-namespace:Course.ViewModels"
    x:Class="Course.Views.UserProfilePage"
    x:DataType="viewmodel:UserProfileViewModel"
    Title="User Profile">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <!-- Аватар -->
            <Border Style="{StaticResource CardStyle}"
                    HorizontalOptions="Center" 
                    HeightRequest="150"
                    WidthRequest="150">
                <Image Source="{Binding AvatarImage}"
                       Aspect="AspectFill"
                       HeightRequest="150"
                       WidthRequest="150"/>
            </Border>

            <Button Text="Изменить аватар" 
                    Command="{Binding ChangeAvatarCommand}"
                    Style="{StaticResource SecondaryButton}"
                    HorizontalOptions="Center"/>

            <!-- Информация -->
            <Border Style="{StaticResource CardStyle}">
                <VerticalStackLayout Spacing="15">
                    <Label Text="Информация о профиле" 
                           Style="{StaticResource SubHeadline}" 
                           HorizontalOptions="Center"/>

                    <Label Text="Имя:" Style="{StaticResource FieldLabel}"/>
                    <Entry Text="{Binding Name}" 
                           Placeholder="Enter your name"/>

                    <Label Text="Почта:" Style="{StaticResource FieldLabel}"/>
                    <Entry Text="{Binding Email}" 
                           Placeholder="Enter email"
                           IsEnabled="False"/>
                </VerticalStackLayout>
            </Border>

            <!-- Настройки -->
            <Border Style="{StaticResource CardStyle}">
                <VerticalStackLayout Spacing="15">
                    <Label Text="Preferences" 
                           Style="{StaticResource SubHeadline}" 
                           HorizontalOptions="Center"/>

                    <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                        <Label Text="Dark Theme" 
                               VerticalOptions="Center"
                               Style="{StaticResource FieldLabel}"/>
                        <CheckBox IsChecked="{Binding IsDarkTheme}" />
                    </HorizontalStackLayout>

                    <Button Text="Favorites" 
                            Command="{Binding NavigateToFavoritesCommand}"
                            Style="{StaticResource SecondaryButton}"/>
                </VerticalStackLayout>
            </Border>
            <Button Text="Популярные книги" 
            Command="{Binding NavigateToTopBooksCommand}" 
            Style="{StaticResource SecondaryButton}"/>

            <!-- Кнопка сохранения -->
            <Button Text="Save Profile" 
                    Command="{Binding SaveProfileCommand}"
                    Style="{StaticResource PrimaryButton}"
                    HorizontalOptions="End"/>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>